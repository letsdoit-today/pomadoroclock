# VS Code 番茄时钟插件

一个集成于VS Code的番茄时钟插件，帮助开发人员使用番茄工作法提高工作效率。

## 功能特性

### V1.0 核心功能版

- ✅ **番茄时钟管理**：开始、暂停、取消番茄计时
- ✅ **休息计时联动**：自动切换短休息和长休息
- ✅ **状态可视化**：状态栏实时显示当前状态和剩余时间
- ✅ **系统通知**：计时结束时显示系统通知和声音提醒
- ✅ **数据记录**：自动记录每日完成的番茄数和工作时长
- ✅ **快捷键支持**：Ctrl+Shift+T 开始番茄，Ctrl+Shift+C 取消番茄
- ✅ **配置自定义**：支持工作时长、休息时长等个性化配置

## 安装方法

1. 克隆或下载本插件代码
2. 在VS Code中打开插件目录
3. 运行 `npm install` 安装依赖
4. 按 `F5` 启动调试，或使用 `vsce package` 打包发布

## 使用方法

### 基本操作

1. **开始番茄**：
   - 点击状态栏的番茄图标
   - 使用快捷键 `Ctrl+Shift+T`
   - 在命令面板输入 "番茄时钟: 开始番茄"

2. **暂停番茄**：
   - 在命令面板输入 "番茄时钟: 暂停番茄"

3. **取消番茄**：
   - 使用快捷键 `Ctrl+Shift+C`
   - 在命令面板输入 "番茄时钟: 取消番茄"

### 状态栏显示

状态栏会实时显示当前状态：

- 🍅 **工作中**：显示剩余时间（如 "🍅 15:23"）
- ☕ **短休息中**：显示剩余休息时间
- 🌴 **长休息中**：显示剩余休息时间
- ⏸️ **已暂停**：显示暂停时的剩余时间
- 🍅 **空闲**：显示 "🍅 空闲"

鼠标悬停在状态栏图标上可以查看详细信息：
- 今日完成的番茄数
- 连续番茄数
- 当前状态和剩余时间

## 配置选项

在VS Code设置中搜索 "番茄时钟" 可以配置以下选项：

- **工作时长**：10-60分钟，默认25分钟
- **短休息时长**：1-15分钟，默认5分钟
- **长休息时长**：5-30分钟，默认15分钟
- **长休息触发间隔**：2-8个连续番茄，默认4个
- **启用声音提醒**：默认开启
- **启用系统通知**：默认开启

## 数据统计

插件会自动记录以下数据：
- 每日完成的番茄数
- 累计工作时长
- 连续番茄数
- 每个番茄的开始和结束时间

数据存储在本地，保障用户隐私。

## 开发说明

### 项目结构

```
src/
├── extension.ts      # 插件主入口
├── timer.ts          # 番茄时钟核心逻辑
├── statusBar.ts      # 状态栏管理
├── notification.ts   # 通知管理
└── data.ts           # 数据管理
```

### 核心类说明

- **PomodoroTimer**：番茄时钟核心类，管理计时逻辑和状态转换
- **StatusBarManager**：状态栏显示管理
- **NotificationManager**：通知和声音提醒管理
- **DataManager**：数据存储和统计管理

### 扩展开发

如需扩展功能，可以参考以下接口：

```typescript
// 添加新的命令
vscode.commands.registerCommand('pomodoro-clock.new-command', () => {
    // 实现新功能
});

// 添加新的配置项
// 在package.json的contributes.configuration中添加
```

## 版本规划

### V1.0（当前版本）
- 核心番茄时钟功能
- 基础数据记录
- 状态栏显示

### V1.1（计划中）
- 历史统计图表
- 数据导出功能
- 优化数据可视化

### V1.2（计划中）
- 专注模式
- 代码活跃检测
- 右键菜单集成

## 技术支持

如有问题或建议，请提交Issue或联系开发团队。

## 许可证

MIT License